<!DOCTYPE html>
<html onselectstart="return false">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>果然配</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/diyDesignBottle.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
	 crossorigin="anonymous">
	<link rel="stylesheet" href="css/colpick.css">
	<link rel="stylesheet" href="css/colpickStyle.css">
	<script src="js/global.js"></script>
	<script src="js/Drag.js"></script>
	<script src="js/plugin/jquery-1.7.2.min.js"></script>
	<script src="js/plugin/jquery-3.3.1.min.js"></script>
	<script src="js/plugin/jquery-ui.min.js"></script>
	<script src="js/plugin/html2canvas.js"></script>
	<script src="js/plugin/jquery.ui.touch-punch.js"></script>
	<script src="js/plugin/colpick.js"></script>
	<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-3.0.0.js "></script>
</head>
<header>
	<input type="checkbox" name="" id="hb_control">
	<nav>
		<div id="svg-2">
			<canvas id="wave" width="1000" height="400"></canvas>
			<canvas id="wave2" width="1000" height="400"></canvas>
		</div>
		<div class="ph_nav">
			<label for="hb_control" class="hb"><span></span></label>
			<a href="index.html">
				<h1 class="phone_logo"><img src="images/logo.png" alt="果然配">果然配</h1>
			</a>
		</div>

		<div class="menu">
			<ul>
				<li class="menu_item"><a href="diy.html">果汁DIY</a></li>
				<li class="menu_item"><a href="product.html">果然特調</a></li>
				<li><a href="index.html">
						<h1 class="menu_logo"><img src="images/logo.png" alt="果然配">果然配</h1>
					</a> </li>
				<li class="menu_item"><a href="blog.html">果然私藏</a></li>
				<li class="menu_item"><a href="about.html">關於果然</a></li>
			</ul>
		</div>
		<div class="nav_mem">
			<p><a href="login.html">登入</a></p>
			<div class="mem_pic"><a href="member.html"><img src="images/user.png" alt="會員中心"></a></div>
			<div class="mem_pic"><a href="cart.html"><img src="images/cart.png" alt="購物車"></a></div>
		</div>
	</nav>
	<div class="coupon"><img src="images/coupon.png" alt="優惠小遊戲"></div>
	<div class="robot"><img src="images/robot.png" alt="果然配客服機器人"></div>
</header>
<div class="navSpace"></div>

<body>
	<!-- SCR2--設計瓶身文字敘述 -->
	<div class="diy_designBottleBlock">
		<div class="wrapper ">
			<div class="diy_designBottle_stepBlock ">
				<div class="diy_designBottle_stepFirstBox">
					<img src="images/diy/stepBg.png" alt="挑選水果">
					<div class="diy_designBottle_stepFirstTitle">
						<p>STEP1</p>
						<h3>挑選水果</h3>
					</div>
				</div>
				<div class="diy_designBottle_stepSecondBox">
					<img src="images/diy/stepBg1.png" alt="設計瓶身">
					<div class="diy_designBottle_stepSecondTitle">
						<p>STEP2</p>
						<h3>設計瓶身</h3>
					</div>
				</div>
			</div>
			<div class="diy_designBottle_title cl-s-12 cl-md-12 cl-xl-12 clearfix">
				<h4>來創作自己的瓶身</h4>
			</div>
			<div class="diy_designBottle_bgCloud">
				<img src="images/About_Png/cloud(01).png">
				<img src="images/About_Png/cloud(02).png">
				<img src="images/About_Png/cloud(03).png">
				<img src="images/About_Png/cloud(04).png">
			</div>
		</div>
		<!-- 設計瓶身、上傳圖檔及新增文字即時顯示調整效果 -->
		<div class="wrapper clearfix">
			<div class="diy_designBottle_bgcBox">
				<div class="diy_designBottle_box cl-s-5 cl-md-6 cl-xl-6">
					<div class="diy_designBottle_picBlock cl-s-12 cl-md-12 cl-xl-12">
						<p>圖片:</p>
						<input type="hidden" name="diy_designBottle_Logo" id="diy_designBottle_Logo">
						<div class="diy_designBottle_pics cl-s-12 cl-md-12 cl-xl-12">
							<div class="diy_designBottle_officalPicBlock cl-s-12 cl-md-12 cl-xl-12">
								<button class="diy_designBottle_officalPic cl-s-6 cl-md-4 cl-xl-4" id="diy_designBottle_logobtn" style="background-color: transparent;">
									<input type="hidden" value="1">
									<img src="images/diy/logo.png" alt="logo" onclick="change(this)">
								</button>
								<button class="diy_designBottle_officalPic cl-s-6 cl-md-4 cl-xl-4" id="diy_designBottle_logobtn" style="background-color: transparent;">
									<input type="hidden" value="2">
									<img src="images/diy/logo1.png" alt="logo5" onclick="change(this)">
								</button>
								<button class="diy_designBottle_officalPic cl-s-6 cl-md-4 cl-xl-4" id="diy_designBottle_logobtn" style="background-color: transparent;">
									<input type="hidden" value="3">
									<img src="images/diy/logo3.png" alt="logo4" onclick="change(this)">
								</button>
								<button class="diy_designBottle_officalPic cl-s-6 cl-md-4 cl-xl-4" id="diy_designBottle_logobtn" style="background-color: transparent;">
									<input type="hidden" value="4">
									<img src="images/diy/logo2.png" alt="logo3" onclick="change(this)">
								</button>
								<button class="diy_designBottle_officalPic diy_designBottle_disNone cl-s-6 cl-md-4 cl-xl-4" id="diy_designBottle_logobtn "
								 style="background-color: transparent;">
									<input type="hidden" value="5">
									<img src="images/diy/logo4.png" alt="logo5" onclick="change(this)">
								</button>
								<button class="diy_designBottle_officalPic diy_designBottle_disNone cl-s-6 cl-md-4 cl-xl-4" id="diy_designBottle_logobtn "
								 style="background-color: transparent;">
									<input type="hidden" value="6">
									<img src="images/diy/logo5.png" alt="logo6" onclick="change(this)">
								</button>
							</div>
							<div class="diy_designBottle_uploadBtn cl-s-12 cl-md-12 cl-xl-12 ">
								<label class="diy_designBottle_uploadItem">
									<input type="file" accept="image/*" id="uploadButton">
									<p>上傳圖片+</p>
								</label>
							</div>
						</div>
						<div class="diy_designBottle_textBlock cl-s-6 cl-md-12 cl-xl-12">
							<form id="diy_designBottle_textForm" class="diy_designBottle_createTextBlock" name="textForm" method="post">
								<p>文字：</p>
								<input type="text" name="e" class="diy_designBottle_textLength ">
								<input type="button" value="新增文字" onclick="createText(this.form.e.value);">
							</form>
						</div>
					</div>
				</div>
				<div class="diy_designBottle_container cl-s-6 cl-md-6 cl-xl-6">
					<div id="diy_containmentBlock" class="diy_designBottle_pic cl-s-11 cl-md-9 cl-xl-9">
						<div id="diy_designBottle_wrapper" class="diy_designBottle_bottleItem">
							<img src="images/diy/emptyBottle.png" id="dragRange">
						</div>
						<img id="diy_designBottle_diyImg" class="diy_designBottle_changePic draggable  ui-draggable ui-widget-header ui-widget-content"
						 style="position:relative; top:-240px;right:-90px;">
						<div id="diy_designBottle_dragText" class="diy_designBottle_createBlock" style="top:-150px;right:-120px;margin:0;"></div>
					</div>
					<div class="diy_designBottle_controlBlock cl-s-1 cl-md-3 cl-xl-3 clearfix">
						<i id="zoomInButton" class="fas fa-search-plus cl-xl-12"></i>
						<i id="zoomOutButton" class="fas fa-search-minus cl-xl-12"></i>
						<i id="rotateLeftButton" class="fas fa-undo-alt cl-xl-12"></i>
						<i id="rotateRightButton" class="fas fa-redo-alt cl-xl-12"></i>
						<i id="picker" class="fas fa-palette cl-xl-12"></i>
						<i id="deleteButton" class="fas fa-trash cl-xl-12"></i>
					</div>
				</div>
				<div class="diy_designBottle_btnBlock cl-s-12 cl-md-12 cl-xl-12 clearfix">
					<a class="common_btn common_btn_first" href="diy.html">
						<span class="common_btn_txt">上一步</span>
						<div class="common_btn_blobs">
							<div></div>
							<div></div>
							<div></div>
						</div>
					</a>
					<a class="common_btn common_btn_first" id="diy_copyPicButton">
						<span class="common_btn_txt">製作完成</span>
						<div class="common_btn_blobs">
							<div></div>
							<div></div>
							<div></div>
						</div>
					</a>
				</div>
			</div>
		</div>
		<!-- 客製完成跳出蓋滿視窗 -->
		<div class="wrapper">
			<div class=" diy_customizePopUp" id="center">
				<div class="diy_customizeFinishBox ">
					<div class="diy_customizeBox_content cl-s-12">
						<h3>客製完成</h3>
						<div class="diy_customizeBox_finishPic">
						</div>
						<div class="diy_proToCartBtns">
							<a class="common_btn common_btn_first diy_addCartBtn" id="addToCartBtn">
								<span class="common_btn_txt">加入購物車</span>
								<div class="common_btn_blobs">
									<div></div>
									<div></div>
									<div></div>
								</div>
							</a>
							<a class="common_btn common_btn_first diy_addCartBtn" href="cart.html">
								<span class="
							 common_btn_txt">我要結帳</span>
								<div class="common_btn_blobs">
									<div></div>
									<div></div>
									<div></div>
								</div>
							</a>
						</div>
						<div class="diy_customizeFinishBox_customizeBtns">
							<a class="common_btn common_btn_second diy_doMoreBtn" href="diy.html">
								<span class="common_btn_txt">再做一瓶<i class="fas fa-reply"></i></span>
								<div class="common_btn_blobs">
									<div></div>
									<div></div>
									<div></div>
								</div>
							</a>
							<a class="common_btn common_btn_second diy_doMoreBtn" href="blog.html">
								<span class="
									 common_btn_txt">看看別人怎麼做
									 <div class="bottleIcon"><img src="images/diy/bottleBtn.png"></div></span>
								<div class="common_btn_blobs">
									<div></div>
									<div></div>
									<div></div>
								</div>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="diy_designBottle_bottleMovingBlock">
		<div class="diy_designBottle_conveyorMoveContainer">
			<img class="diy_designBottle_conveyorPic" src="images/diy/conveyor.png" alt="傳輸帶">
			<ul class="diy_designBottle_bottlesBlock">
				<li class="item1"><img src="images/diy/bottleOrange.png" alt="果汁瓶"></li>
				<li class="item2"><img src="images/diy/juiceBottle.png" alt="果汁瓶"></li>
				<li class="item3"><img src="images/diy/bottlePink.png" alt="果汁瓶"></li>
				<li class="item4"><img src="images/diy/fullBottle.png" alt="果汁瓶"></li>
				<li class="item5"><img src="images/diy/yellowBottle.png" alt="果汁瓶"></li>
				<li class="item6"><img src="images/diy/mixBottle.png" alt="果汁瓶"></li>
				<li class="item7"><img src="images/diy/greenBottle.png" alt="果汁瓶"></li>
			</ul>
			<div class="diy_designBottle_factoryPic"><img src="images/about/Factory.png" alt="工廠"></div>
			<div class="diy_designBottle_carPic"><img src="images/About_Png/car(01).png" alt="車子"></div>
			<div class="diy_designBottle_soliRoad"></div>
		</div>
	</div>
    <footer>
        <div class="footer_wrapper">
            <div class="footer_block clearfix">
                <div class="footer_rightBox">
                    <div class="footer_rightContent">
                        <p class="copyright">Copyright © All Rights Reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
	<script>
		$(document).ready(function () {
			$("#diy_copyPicButton").click(function () {
				popCenterWindow();
			});
		}); 
	</script>
	<script>
		$("#diy_copyPicButton").click(function () {
			html2canvas($("#diy_containmentBlock")[0]).then(function (canvas) {
				var $div = $(".diy_customizeBox_finishPic");
				$div.empty();
				$("<img />", { src: canvas.toDataURL("image/png") }).appendTo($div);
			});
		});						
	</script>
	<script>// 上傳圖檔後把預設的logo刪除 
		$(document).ready(function () {
			$('#uploadButton').on("change", function () {
				for (var i = 0; i < $('.diy_designBottle_officalPic').length; i++) {
					$('#diy_designBottle_Logo').val('');
					$('.diy_designBottle_officalPic').eq(i).css('backgroundColor', 'transparent');
				}
			});
		});
		$('#addToCartBtn').click(function () {
			$(".diy_proToCartBtns").addClass("btnBounceOutUp", 500, callback);
			$(".diy_customizeFinishBox_customizeBtns").addClass("btnbounceInUp");
			function callback() {
				setTimeout(function () {
					$(".diy_proToCartBtns").css("display", "none");

				}, 1500);
			}
		});


	</script>
	<script type="text/javascript">
		//獲取視窗的高度 
		var windowHeight;
		//獲取視窗的寬度 
		var windowWidth;
		//獲取彈窗的寬度 
		var popWidth;
		//獲取彈窗高度 
		var popHeight;
		function init() {
			windowHeight = $(window).height();
			windowWidth = $(window).width();
			popHeight = $(".diy_customizeFinishBox").height();
			popWidth = $(".diy_customizeFinishBox").width();
		}
		//定義彈出居中視窗的方法 
		function popCenterWindow() {
			init();
			//計算彈出視窗的左上角Y的偏移量 
			var popY = (windowHeight - popHeight) / 2;
			var popX = (windowWidth - popWidth) / 2;
			//設定視窗的位置 
			$("#center").css("top", popY).css("left", popX).slideToggle("slow");
		}
		$(function dragging() {
			$('#diy_designBottle_diyImg').draggable(
				{
					containment: "#dragRange",
					scroll: false,
				} //#diy_designBottle_wrapper
			);
			$('#diy_designBottle_dragText').draggable(
				{ containment: "#dragRange" }//#diy_designBottle_wrapper
			);
		});
	</script>
	<script>
		$('#picker').colpick({
			flat: false,
			layout: 'rgbhex',
			color: '1080C8',
			submit: 1,
			onSubmit: function (hsb, hex, rgb, el) {
				$('.diy_designBottle_createBlock').css('color', '#' + hex);
				$(el).colpickHide();

			}
		});
	</script>
</body>

</html>